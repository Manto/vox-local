<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kokoro TTS</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>üéôÔ∏è Kokoro TTS</h1>
      <p class="subtitle">Text-to-Speech with WebGPU</p>
    </header>

    <div class="status-section">
      <div id="status" class="status-badge ready">Ready</div>
      <div id="model-status" class="model-status">Model not loaded</div>
    </div>

    <div class="controls">
      <button id="speak-selection" class="btn btn-primary" title="Speak selected text">
        <span class="icon">üìñ</span> Speak Selection
      </button>

      <button id="speak-page" class="btn btn-primary" title="Speak entire page">
        <span class="icon">üìÑ</span> Speak Page
      </button>

      <button id="speak-btn" class="btn btn-primary" title="Speak entered text">
        <span class="icon">üîä</span> Speak Text
      </button>

      <button id="stop-btn" class="btn btn-danger" disabled title="Stop speaking">
        <span class="icon">‚èπÔ∏è</span> Stop
      </button>
    </div>

    <div class="input-section">
      <textarea id="text" placeholder="Enter text to speak..." rows="3"></textarea>
    </div>

    <div class="settings">
      <h3>Voice Settings</h3>

      <div class="setting-group">
        <label for="voice-select">Voice:</label>
        <select id="voice-select">
          <option value="af_heart">Heart (Female, Recommended)</option>
          <option value="af_bella">Bella (Female, High Quality)</option>
          <option value="am_michael">Michael (Male)</option>
          <option value="am_fenrir">Fenrir (Male)</option>
          <option value="bf_emma">Emma (British Female)</option>
          <option value="bm_george">George (British Male)</option>
        </select>
      </div>

      <div class="setting-group">
        <label for="speed-slider">Speed: <span id="speed-value">1.0</span>x</label>
        <input type="range" id="speed-slider" min="0.5" max="2.0" step="0.1" value="1.0">
      </div>

      <div class="setting-group">
        <label for="dtype">Model Quality:</label>
        <select id="dtype">
          <option value="q8">Q8 (Recommended)</option>
          <option value="fp16">FP16 (High Quality)</option>
          <option value="fp32">FP32 (Highest Quality)</option>
          <option value="q4">Q4 (Fast)</option>
          <option value="q4f16">Q4F16 (Balanced)</option>
        </select>
      </div>

      <div class="setting-group">
        <label for="device">Device:</label>
        <select id="device">
          <option value="webgpu">WebGPU (GPU)</option>
          <option value="wasm">WASM (CPU)</option>
        </select>
      </div>

      <div class="setting-group">
        <label>
          <input type="checkbox" id="auto-highlight">
          Highlight text while speaking
        </label>
      </div>
    </div>

    <div class="info">
      <details>
        <summary>‚ÑπÔ∏è How to use</summary>
        <ul>
          <li><strong>Speak Selection:</strong> Select text on any webpage, then click this button</li>
          <li><strong>Speak Page:</strong> Reads all visible text on the current page</li>
          <li><strong>Speak Text:</strong> Enter text above and click to hear it spoken</li>
          <li><strong>First use:</strong> Model will download (~50-200MB depending on quality)</li>
          <li><strong>WebGPU:</strong> Requires Chrome/Edge with WebGPU enabled</li>
        </ul>
      </details>
    </div>
  </div>
</body>
</html>